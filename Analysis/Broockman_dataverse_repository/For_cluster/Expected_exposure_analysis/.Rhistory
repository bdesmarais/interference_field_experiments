rm(list=ls())
setwd("~/Dropbox/Interference_in_Field_Experiments/Analysis/Broockman_dataverse_repository/For_cluster/Expected_exposure_analysis")
load("pvals_broockman_demvotepct_blackpct.RData")
beta1s <- seq(from=-0.5, to=0.5, length.out = dim(pvals)[1])
beta2s <- seq(from=-0.5, to=0.5, length.out = dim(pvals)[1])
high.p.value <- max(pvals)
highest.p.indices <- which(pvals==max(pvals), arr.ind = TRUE)
direct.effect.PI <- beta1s[which(pvals==max(pvals), arr.ind = TRUE)[1]]
indirect.effect.PI <- beta2s[which(pvals==max(pvals), arr.ind = TRUE)[2]]
direct.effect.CI.high <- beta1s[max(which(pvals[,which(beta2s==indirect.effect.PI)] >= 0.05))]
direct.effect.CI.low <- beta1s[min(which(pvals[,which(beta2s==indirect.effect.PI)] >= 0.05))]
indirect.effect.CI.high <- beta2s[max(which(pvals[which(beta1s==direct.effect.PI),] >= 0.05))]
indirect.effect.CI.low <- beta2s[min(which(pvals[which(beta1s==direct.effect.PI),] >= 0.05))]
result <- rbind(high.p.value, direct.effect.PI, indirect.effect.PI,
direct.effect.CI.low, direct.effect.CI.high,
indirect.effect.CI.low, indirect.effect.CI.high)
result
rm(list=ls())
setwd("~/Dropbox/Interference_in_Field_Experiments/Analysis/Broockman_dataverse_repository/For_cluster/Expected_exposure_analysis")
load("pvals_broockman_blackpct.RData")
beta1s <- seq(from=-0.5, to=0.5, length.out = dim(pvals)[1])
beta2s <- seq(from=-0.5, to=0.5, length.out = dim(pvals)[1])
high.p.value <- max(pvals)
highest.p.indices <- which(pvals==max(pvals), arr.ind = TRUE)
direct.effect.PI <- beta1s[which(pvals==max(pvals), arr.ind = TRUE)[1]]
indirect.effect.PI <- beta2s[which(pvals==max(pvals), arr.ind = TRUE)[2]]
direct.effect.CI.high <- beta1s[max(which(pvals[,which(beta2s==indirect.effect.PI)] >= 0.05))]
direct.effect.CI.low <- beta1s[min(which(pvals[,which(beta2s==indirect.effect.PI)] >= 0.05))]
indirect.effect.CI.high <- beta2s[max(which(pvals[which(beta1s==direct.effect.PI),] >= 0.05))]
indirect.effect.CI.low <- beta2s[min(which(pvals[which(beta1s==direct.effect.PI),] >= 0.05))]
result <- rbind(high.p.value, direct.effect.PI, indirect.effect.PI,
direct.effect.CI.low, direct.effect.CI.high,
indirect.effect.CI.low, indirect.effect.CI.high)
result
rm(list=ls())
setwd("~/Dropbox/Interference_in_Field_Experiments/Analysis/Broockman_dataverse_repository/For_cluster/Expected_exposure_analysis")
load("pvals_broockman_demvotepct.RData")
beta1s <- seq(from=-0.5, to=0.5, length.out = dim(pvals)[1])
beta2s <- seq(from=-0.5, to=0.5, length.out = dim(pvals)[1])
high.p.value <- max(pvals)
highest.p.indices <- which(pvals==max(pvals), arr.ind = TRUE)
direct.effect.PI <- beta1s[which(pvals==max(pvals), arr.ind = TRUE)[1]]
indirect.effect.PI <- beta2s[which(pvals==max(pvals), arr.ind = TRUE)[2]]
direct.effect.CI.high <- beta1s[max(which(pvals[,which(beta2s==indirect.effect.PI)] >= 0.05))]
direct.effect.CI.low <- beta1s[min(which(pvals[,which(beta2s==indirect.effect.PI)] >= 0.05))]
indirect.effect.CI.high <- beta2s[max(which(pvals[which(beta1s==direct.effect.PI),] >= 0.05))]
indirect.effect.CI.low <- beta2s[min(which(pvals[which(beta1s==direct.effect.PI),] >= 0.05))]
result <- rbind(high.p.value, direct.effect.PI, indirect.effect.PI,
direct.effect.CI.low, direct.effect.CI.high,
indirect.effect.CI.low, indirect.effect.CI.high)
result
beta1s <- seq(from=-0.5, to=0.5, by=.025)
?seq
